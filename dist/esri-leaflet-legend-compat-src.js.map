{"version":3,"sources":["../src/Services/MapService.js","../src/Tasks/Legend.js","../src/Tasks/Legend/SymbolLegend.js","../src/Tasks/Legend/SymbolRenderer.js","../src/Layers/DynamicMapLayer.js","../src/Layers/FeatureLayer/FeatureLayer.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE;AACzC;AACA,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACvC,IAAI,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AACrE,EAAE,CAAC;AACH;AACA,GAAG;;;ACNH,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE;AAC1D,EAAE,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE;AACjB;AACA,EAAE,MAAM,CAAC,CAAC,CAAC;AACX,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACb,EAAE,EAAE;AACJ;AACA,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACpC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxB,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AAC9E,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AACjF,IAAI,CAAC;AACL,EAAE,CAAC;AACH;AACA,GAAG;AACH;AACA,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7C,EAAE,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE;AAC9C,EAAE;;;ACnBF,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE;AAClC;AACA,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,GAAG;AACnE,IAAI,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;AACrE,EAAE,EAAE;AACJ;AACA,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACpC,IAAI,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AACzD,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AACd,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE;AAChD,MAAM,CAAC;AACP,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxB,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;AACrE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;AACxE,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,wBAAwB,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACzD,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACtD,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClB,QAAQ,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE;AAC7C,MAAM,CAAC;AACP,MAAM,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;AACtB,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACnE,QAAQ,EAAE,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC;AAC9C,UAAU,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG;AAC1C,QAAQ,CAAC;AACT,MAAM,CAAC;AACP,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AAC/D,QAAQ,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAClB,UAAU,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE;AACtC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;AAChB,UAAU,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACnE,YAAY,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACzC,cAAc,MAAM,CAAC,CAAC,MAAM;AAC5B,YAAY,GAAG;AACf,UAAU,GAAG;AACb,QAAQ,CAAC;AACT,MAAM,EAAE,CAAC,IAAI,EAAE;AACf,IAAI,EAAE,CAAC,IAAI,EAAE;AACb,EAAE,EAAE;AACJ;AACA,EAAE,iBAAiB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC7D,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAG;AAChC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG;AACvB;AACA,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACjB,MAAM,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE;AAC3C,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,KAAK;AACZ,IAAI,QAAQ,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC3C,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAChB,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE;AACpC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AACd,QAAQ,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE;AAC7B,QAAQ,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAG;AAChC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACpB,UAAU,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,CAAC,IAAI,EAAE;AAC/D,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC;AAChB,UAAU,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE;AAClD,QAAQ,CAAC;AACT,MAAM,CAAC;AACP,IAAI,CAAC;AACL,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,CAAC,IAAI,EAAE;AACzD,EAAE,EAAE;AACJ;AACA,EAAE,eAAe,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACvD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;AACrC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACf,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AAC1B,EAAE,EAAE;AACJ;AACA,EAAE,iBAAiB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC7D,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;AACpB,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAG;AAChC;AACA,IAAI,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACvC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAChB,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE;AACpC,MAAM,CAAC;AACP,MAAM,MAAM,CAAC,IAAI,EAAE;AACnB,QAAQ,OAAO,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;AAC1B,QAAQ,SAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;AAC9B,QAAQ,SAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;AAC9B,QAAQ,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;AACjC,QAAQ,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC;AACjC,QAAQ,MAAM,CAAC,CAAC,MAAM;AACtB,MAAM,GAAG;AACT;AACA,MAAM,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAG;AAC9B,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClB,QAAQ,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;AACxE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AACd,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;AAC7C,MAAM,CAAC;AACP,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAChB,MAAM,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE;AACtE,IAAI,CAAC;AACL,IAAI,MAAM,CAAC,MAAM,CAAC;AAClB,EAAE,EAAE;AACJ;AACA,EAAE,oBAAoB,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAClE,IAAI,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;AACxE,MAAM,WAAW,CAAC,QAAQ,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC;AACrD,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE;AAC7B,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;AACpB,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,gBAAgB,CAAC,GAAG,GAAG;AACxC;AACA,IAAI,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3C,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClB,QAAQ,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE;AAC7C,MAAM,CAAC;AACP;AACA,MAAM,MAAM,CAAC,IAAI,EAAE;AACnB,QAAQ,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5B,QAAQ,MAAM,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7B,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;AAC/B,QAAQ,SAAS,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC;AACnC,QAAQ,WAAW,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC;AACvC,QAAQ,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC;AAC3B,QAAQ,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG;AACpC,MAAM,GAAG;AACT;AACA,MAAM,MAAM,CAAC,CAAC,CAAC,gBAAgB,CAAC,GAAG,GAAG;AACtC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACnB,QAAQ,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE;AACzD,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AACd,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;AAC7C,MAAM,CAAC;AACP,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACjB,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE;AACvD,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACtD,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AACnE,EAAE,CAAC;AACH;AACA,GAAG;;;ACrJH,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE;AAC1D;AACA,EAAE,OAAO,CAAC,CAAC,CAAC;AACZ,IAAI,YAAY,CAAC,CAAC,CAAC;AACnB,MAAM,MAAM,CAAC,CAAC,CAAC,OAAO,EAAE;AACxB,MAAM,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;AACtB,MAAM,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE;AACtB,MAAM,cAAc,CAAC,CAAC,CAAC,OAAO,EAAE;AAChC,MAAM,YAAY,CAAC,CAAC,CAAC,OAAO,EAAE;AAC9B,MAAM,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;AACpB,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAC/C,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,aAAa,EAAE,MAAM,GAAG;AAClD,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,GAAG;AACtC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC;AACrC;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AACrC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClB,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE;AACtC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;AACd,QAAQ,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACtC,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC9B,UAAU,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AAChC,UAAU,SAAS,CAAC,CAAC,SAAS,CAAC;AAC/B,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC;AACpB,UAAU,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;AAClC,QAAQ,GAAG;AACX,MAAM,CAAC;AACP,IAAI,CAAC;AACL;AACA,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;AAC3B,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE;AAC1C,IAAI,CAAC;AACL;AACA,IAAI,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1B,MAAM,IAAI,CAAC,CAAC,OAAO,EAAE;AACrB,QAAQ,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC9C,QAAQ,KAAK,CAAC;AACd,MAAM,IAAI,CAAC,CAAC,OAAO,EAAE;AACrB,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC5C,QAAQ,KAAK,CAAC;AACd,MAAM,IAAI,CAAC,CAAC,OAAO,EAAE;AACrB,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC5C,QAAQ,KAAK,CAAC;AACd,MAAM,IAAI,CAAC,CAAC,OAAO,EAAE;AACrB,QAAQ,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AACnD,QAAQ,KAAK,CAAC;AACd,MAAM,IAAI,CAAC,CAAC,OAAO,EAAE;AACrB,QAAQ,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AACjD,QAAQ,KAAK,CAAC;AACd,MAAM,IAAI,CAAC,CAAC,MAAM,EAAE;AACpB,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC5C,QAAQ,KAAK,CAAC;AACd,MAAM,OAAO,CAAC;AACd,QAAQ,KAAK,CAAC;AACd,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAChD,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE;AACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC/B,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG;AACxE,EAAE,EAAE;AACJ;AACA,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAChD,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE;AACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC/B,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG;AACxE,EAAE,EAAE;AACJ;AACA,EAAE,WAAW,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAChD,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE;AACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC/B;AACA,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG;AACxE,EAAE,EAAE;AACJ;AACA,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClD,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE;AACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC/B,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AACzB,MAAM,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;AAC5C,IAAI,CAAC;AACL,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG;AACxE,EAAE,EAAE;AACJ;AACA,EAAE,gBAAgB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACrD,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE;AACzC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;AAC3B,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE;AACzE,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI;AACtC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACxD,QAAQ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,EAAE;AACtE,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI;AACxC,MAAM,EAAE,CAAC,IAAI,EAAE;AACf,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,kBAAkB,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACvD,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC/B,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE;AACzC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;AAC3B,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE;AACjE,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI;AACtC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACxD,QAAQ,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AACnC,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI;AACxC,MAAM,EAAE,CAAC,IAAI,EAAE;AACf,IAAI,CAAC;AACL,EAAE,EAAE;AACJ;AACA,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACnC,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC7B,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AAC/B,EAAE,EAAE;AACJ;AACA,EAAE,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACtC,IAAI,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE;AACnD,EAAE,EAAE;AACJ;AACA,EAAE,aAAa,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AACxC,IAAI,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;AAC/D,EAAE,EAAE;AACJ;AACA,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAClE,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;AACpB,MAAM,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG;AAC1B,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;AACjE,IAAI,CAAC;AACL;AACA,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,GAAG;AACrD,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;AAC5C,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;AAC5B,IAAI,GAAG,CAAC,IAAI,GAAG;AACf,EAAE,EAAE;AACJ;AACA,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;AACrD,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG;AAC5B,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;AAC/D,IAAI,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AAC/B,EAAE,EAAE;AACJ;AACA,EAAE,UAAU,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AAChD,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG;AAC5B,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG;AAC3B,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC/B,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE;AACzC,IAAI,EAAE;AACN,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACjC,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAC9B,QAAQ,IAAI,CAAC,CAAC,GAAG;AACjB,MAAM,GAAG;AACT,IAAI,EAAE;AACN,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC7D,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,OAAO,GAAG;AACrC,EAAE,CAAC;AACH;AACA,GAAG;;;ACjKH,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,EAAE;AAC5C;AACA,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;AACvC,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE;AACnD,EAAE,CAAC;AACH;AACA,GAAG;;;ACNH,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE;AACzC;AACA,EAAE,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AACtB,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG;AAClC,EAAE,CAAC;AACH;AACA,GAAG","file":"esri-leaflet-legend-compat-src.js","sourcesContent":["EsriLeaflet.Services.MapService.include({\n\n  legend: function(callback, context) {\n    return new EsriLeaflet.Tasks.Legend(this).run(callback, context);\n  }\n\n});\n","EsriLeaflet.Tasks.Legend = EsriLeaflet.Tasks.Task.extend({\n  path: 'legend',\n\n  params: {\n    f: 'json'\n  },\n\n  run: function(callback, context) {\n    if (this._service) {\n      return this._service.request(this.path, this.params, callback, context);\n    } else {\n      return this._request('request', this.path, this.params, callback, context);\n    }\n  }\n\n});\n\nEsriLeaflet.Tasks.legend = function(params) {\n  return new EsriLeaflet.Tasks.Legend(params);\n};\n","EsriLeaflet.Tasks.Legend.include({\n\n  initialize: function(endpoint) {\n    this._renderer = new EsriLeaflet.Tasks.Legend.SymbolRenderer();\n    EsriLeaflet.Tasks.Task.prototype.initialize.call(this, endpoint);\n  },\n\n  run: function(callback, context) {\n    function cb(error, response) {\n      if (error && error.error.code === 400) { // ArcGIS server >=10.0\n        this._collectLegendFromLayers(callback, context);\n      } else {\n        callback.call(context, error, response);\n      }\n    }\n\n    if (this._service) {\n      return this._service.request(this.path, this.params, cb, this);\n    } else {\n      return this._request('request', this.path, this.params, cb, this);\n    }\n  },\n\n  _collectLegendFromLayers: function(callback, context) {\n    this._service.metadata(function(error, response) {\n      if (error) {\n        return callback.call(context, error);\n      }\n      var layers = [];\n      for (var i = 0, len = response.layers.length; i < len; i++) {\n        if (!response.layers[i].subLayerIds) {\n          layers.push(response.layers[i]);\n        }\n      }\n      this._getLayersLegends(layers, function(err, layerData) {\n        if (err) {\n          callback.call(context, err);\n        } else {\n          this._symbolsToLegends(layerData, function(err, result) {\n            callback.call(context, err, {\n              layers: result\n            });\n          });\n        }\n      }, this);\n    }, this);\n  },\n\n  _getLayersLegends: function(layerDefs, callback, context) {\n    var layer = layerDefs.pop();\n    var layerData = [];\n\n    if (!layer) {\n      callback.call(this, null, layerData);\n    }\n\n    // queue\n    function layerDataReceived(err, data) {\n      if (err) {\n        callback.call(context, err);\n      } else {\n        layerData.push(data);\n        layer = layerDefs.pop();\n        if (layer) {\n          this._getLayerLegend(layer, layerDataReceived, this);\n        } else {\n          callback.call(context, null, layerData);\n        }\n      }\n    }\n    this._getLayerLegend(layer, layerDataReceived, this);\n  },\n\n  _getLayerLegend: function(layer, callback, context) {\n    this._service.request(layer.id, {\n      f: 'json'\n    }, callback, context);\n  },\n\n  _symbolsToLegends: function(layerData, callback, context) {\n    var result = [];\n    var layer = layerData.pop();\n\n    function legendReady(err, legend) {\n      if (err) {\n        callback.call(context, err);\n      }\n      result.push({\n        layerId: layer.id,\n        layerType: layer.type,\n        layerName: layer.name,\n        maxScale: layer.maxScale,\n        minScale: layer.minScale,\n        legend: legend\n      });\n\n      layer = layerData.pop();\n      if (layer) {\n        this._drawingInfoToLegend(layer.drawingInfo, legendReady, this);\n      } else {\n        callback.call(context, null, result);\n      }\n    }\n\n    if (layer) {\n      this._drawingInfoToLegend(layer.drawingInfo, legendReady, this);\n    }\n    return result;\n  },\n\n  _drawingInfoToLegend: function(drawingInfo, callback, context) {\n    var uniqueValueInfos = drawingInfo.renderer.type === 'uniqueValue' ?\n      drawingInfo.renderer.uniqueValueInfos.slice() :\n      [drawingInfo.renderer];\n    var legend = [];\n    var symbol = uniqueValueInfos.pop();\n\n    function symbolRendered(error, image) {\n      if (error) {\n        return callback.call(context, error);\n      }\n\n      legend.push({\n        label: symbol.label,\n        height: image.height,\n        url: symbol.symbol.url,\n        imageData: image.imageData,\n        contentType: image.contentType,\n        width: image.width,\n        values: [symbol.value || '']\n      });\n\n      symbol = uniqueValueInfos.pop();\n      if (symbol) {\n        this._renderSymbol(symbol, symbolRendered, this);\n      } else {\n        callback.call(context, null, legend);\n      }\n    }\n\n    if (symbol) {\n      this._renderSymbol(symbol, symbolRendered, this);\n    }\n  },\n\n  _renderSymbol: function(symbol, callback, context) {\n    return this._renderer.render(symbol.symbol, callback, context);\n  }\n\n});\n","EsriLeaflet.Tasks.Legend.SymbolRenderer = L.Class.extend({\n\n  statics: {\n    SYMBOL_TYPES: {\n      MARKER: 'esriSMS',\n      LINE: 'esriSLS',\n      FILL: 'esriSFS',\n      PICTURE_MARKER: 'esriPMS',\n      PICTURE_FILL: 'esriPFS',\n      TEXT: 'esriTS'\n    }\n  },\n\n  render: function(symbol, callback, context) {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var imageData = symbol.imageData;\n\n    function done(error, imageData) {\n      if (error) {\n        callback.call(context, error);\n      } else {\n        callback.call(context, null, {\n          width: symbol.width,\n          height: symbol.height,\n          imageData: imageData,\n          url: null,\n          contentType: 'image/png'\n        });\n      }\n    }\n\n    if (symbol.imageData) {\n      return done(null, symbol.imageData);\n    }\n\n    switch (symbol.type) {\n      case 'esriSMS':\n        this._renderMarker(ctx, symbol, done);\n        break;\n      case 'esriSLS':\n        this._renderLine(ctx, symbol, done);\n        break;\n      case 'esriSFS':\n        this._renderFill(ctx, symbol, done);\n        break;\n      case 'esriPMS':\n        this._renderImageMarker(ctx, symbol, done);\n        break;\n      case 'esriPFS':\n        this._renderImageFill(ctx, symbol, done);\n        break;\n      case 'esriST':\n        this._renderText(ctx, symbol, done);\n        break;\n      default:\n        break;\n    }\n  },\n\n  _renderText: function(ctx, symbol, callback) {\n    console.log(symbol);\n    this._setSize(ctx, symbol);\n    callback(null, ctx.getImageData(0, 0, symbol.width, symbol.height));\n  },\n\n  _renderFill: function(ctx, symbol, callback) {\n    console.log(symbol);\n    this._setSize(ctx, symbol);\n    callback(null, ctx.getImageData(0, 0, symbol.width, symbol.height));\n  },\n\n  _renderLine: function(ctx, symbol, callback) {\n    console.log(symbol);\n    this._setSize(ctx, symbol);\n\n    callback(null, ctx.getImageData(0, 0, symbol.width, symbol.height));\n  },\n\n  _renderMarker: function(ctx, symbol, callback) {\n    console.log(symbol);\n    this._setSize(ctx, symbol);\n    if (symbol.outline) {\n      this._setOutline(ctx, symbol.outline);\n    }\n    callback(null, ctx.getImageData(0, 0, symbol.width, symbol.height));\n  },\n\n  _renderImageFill: function(ctx, symbol, callback) {\n    this._setRotation(ctx, symbol.angle);\n    if (symbol.imageData) {\n      this._fillImage(ctx, symbol.imageData, symbol, symbol.contentType);\n      callback(null, ctx.toDataURL());\n    } else {\n      this._loadImage(symbol.url, function(err, image) {\n        this._fillImage(ctx, null, symbol, symbol.contentType, image);\n        callback(null, ctx.toDataURL());\n      }, this);\n    }\n  },\n\n  _renderImageMarker: function(ctx, symbol, callback) {\n    this._setSize(ctx, symbol);\n    this._setRotation(ctx, symbol.angle);\n    if (symbol.imageData) {\n      this._drawImage(ctx, symbol.imageData, symbol.contentType);\n      callback(null, ctx.toDataURL());\n    } else {\n      this._loadImage(symbol.url, function(err, image) {\n        ctx.drawImage(image, 0, 0);\n        callback(null, ctx.toDataURL());\n      }, this);\n    }\n  },\n\n  _setSize: function(ctx, symbol) {\n    ctx.width = symbol.width;\n    ctx.height = symbol.height;\n  },\n\n  _setRotation: function(ctx, angle) {\n    ctx.rotate(-parseFloat(angle) * Math.PI / 180);\n  },\n\n  _getImageData: function(ctx, symbol) {\n    return ctx.toDImageData(0, 0, symbol.width, symbol.height);\n  },\n\n  _fillImage: function(ctx, imageData, size, contentType, image) {\n    if (imageData) {\n      image = new Image();\n      image.src = 'data:' + contentType + ';base64,' + imageData;\n    }\n\n    var pattern = ctx.createPattern(image, 'repeat');\n    ctx.rect(0, 0, size.width, size.height);\n    ctx.fillStyle = pattern;\n    ctx.fill();\n  },\n\n  _drawImage: function(ctx, imageData, contentType) {\n    var image = new Image();\n    image.src = 'data:' + contentType + ';base64,' + imageData;\n    ctx.drawImage(image, 0, 0);\n  },\n\n  _loadImage: function(url, callback, context) {\n    var image = new Image();\n    image.crossOrigin = '';\n    image.onload = function() {\n      callback.call(context, null, this);\n    };\n    image.onerror = function(e) {\n      callback.call(context, {\n        code: 500\n      });\n    };\n    image.src = url + (url.indexOf('?') === -1 ? '?' : '&') +\n      'nc=' + (new Date()).getTime();\n  }\n\n});\n","EsriLeaflet.Layers.DynamicMapLayer.include({\n\n  legend: function(callback, context) {\n    return this._service.legend(callback, context);\n  }\n\n});\n","EsriLeaflet.Layers.FeatureLayer.include({\n\n  legend: function() {\n    return this._service.legend();\n  }\n\n});\n"]}